using BOSLib;
using System.Collections.Generic;
using System.Data;


namespace BOSERP
{
    #region GENumbering
    //-----------------------------------------------------------
    //Generated By: BOS Studio
    //Class:GENumberingController
    //Created Date:Friday, March 07, 2008
    //-----------------------------------------------------------

    public class GENumberingController : BaseBusinessController
    {
        public GENumberingController()
        {
            dal = new DALBaseProvider("GENumbering", typeof(GENumberingInfo));
        }


        //NUThao [ADD] [08/04/2014] [DB centre] [GENumbering issue], START
        /// <summary>
        /// Get numbering list by branch id
        /// </summary>
        /// <param name="branchId"></param>
        /// <returns></returns>
        public List<GENumberingInfo> GetNumberingListByName(string name)
        {
            List<GENumberingInfo> numberingList = new List<GENumberingInfo>();
            DataSet ds = dal.GetDataSet("GENumbering_GetNumberingListByName", name);
            if (ds.Tables.Count > 0)
            {
                foreach (DataRow row in ds.Tables[0].Rows)
                {
                    GENumberingInfo objNumberingInfo = (GENumberingInfo)GetObjectFromDataRow(row);
                    numberingList.Add(objNumberingInfo);
                }
            }
            return numberingList;
        }
        //NUThao [ADD] [08/04/2014] [DB centre] [GENumbering issue], END

        //NUThao [ADD] [08/04/2014] [DB centre] [GENumbering issue], START
        /// <summary>
        /// Get numbering list by branch id
        /// </summary>
        /// <param name="branchId"></param>
        /// <returns></returns>
        public DataSet GetNumberingListByBranchID_2(int branchId)
        {
            DataSet ds = dal.GetDataSet("GENumbering_GetNumberingListByBranchID", branchId);

            return ds;
        }
        //NUThao [ADD] [08/04/2014] [DB centre] [GENumbering issue], END

        //NUThao [ADD] [08/04/2014] [DB centre] [GENumbering issue], START
        public GENumberingInfo GetGENumberingByNameAndBranchID(string name, int branchID)
        {
            List<GENumberingInfo> numberingList = new List<GENumberingInfo>();
            DataSet ds = dal.GetDataSet("GENumbering_GetNumberingListByNameAndBranchID", name, branchID);
            if (ds.Tables.Count > 0)
            {
                foreach (DataRow row in ds.Tables[0].Rows)
                {
                    GENumberingInfo objNumberingInfo = (GENumberingInfo)GetObjectFromDataRow(row);
                    numberingList.Add(objNumberingInfo);
                }
            }

            if (numberingList.Count > 0)
                return numberingList[0];
            return null;
        }
        //NUThao [ADD] [08/04/2014] [DB centre] [GENumbering issue], END
    }
    #endregion
}