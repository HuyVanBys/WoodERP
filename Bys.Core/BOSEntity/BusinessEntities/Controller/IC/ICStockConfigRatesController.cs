using BOSLib;
using System.Collections.Generic;
using System.Data;


namespace BOSERP
{
    #region ICStockConfigRates
    //-----------------------------------------------------------
    //Generated By: BOS Studio
    //Class:ICStockConfigRatesController
    //Created Date:Saturday, January 5, 2019
    //-----------------------------------------------------------

    public class ICStockConfigRatesController : BaseBusinessController
    {
        public ICStockConfigRatesController()
        {
            dal = new DALBaseProvider("ICStockConfigRates", typeof(ICStockConfigRatesInfo));
        }

        public ICStockConfigRatesInfo GetStockConfigRatesByProduct(int productID)
        {
            ICProductsController objProductsController = new ICProductsController();
            ICProductsInfo objProductsInfo = (ICProductsInfo)objProductsController.GetObjectByID(productID);

            ICStockConfigRatesInfo objStockConfigRatesInfo = new ICStockConfigRatesInfo();
            objStockConfigRatesInfo = (ICStockConfigRatesInfo)dal.GetDataObject("ICStockConfigRates_GetStockConfigRatesByProduct", objProductsInfo.ICProductID, objProductsInfo.FK_ICProductGroupID, objProductsInfo.ICProductType);
            if (objStockConfigRatesInfo == null || (objStockConfigRatesInfo != null && objStockConfigRatesInfo.ICStockConfigRateID == 0))
            {
                objStockConfigRatesInfo = (ICStockConfigRatesInfo)dal.GetDataObject("ICStockConfigRates_GetStockConfigRatesByGroupAndType", objProductsInfo.FK_ICProductGroupID, objProductsInfo.ICProductType);
            }
            if (objStockConfigRatesInfo == null || (objStockConfigRatesInfo != null && objStockConfigRatesInfo.ICStockConfigRateID == 0))
            {
                objStockConfigRatesInfo = (ICStockConfigRatesInfo)dal.GetDataObject("ICStockConfigRates_GetStockConfigRatesByGroup", objProductsInfo.FK_ICProductGroupID);
            }
            return objStockConfigRatesInfo;
        }

        public override System.Collections.IList GetListFromDataSet(DataSet ds)
        {
            List<ICStockConfigRatesInfo> stockConfigRateList = new List<ICStockConfigRatesInfo>();
            if (ds.Tables.Count > 0)
            {
                foreach (DataRow row in ds.Tables[0].Rows)
                {
                    ICStockConfigRatesInfo objStockConfigRatesInfo = (ICStockConfigRatesInfo)GetObjectFromDataRow(row);
                    stockConfigRateList.Add(objStockConfigRatesInfo);
                }
            }
            ds.Dispose();
            return stockConfigRateList;
        }
    }
    #endregion
}