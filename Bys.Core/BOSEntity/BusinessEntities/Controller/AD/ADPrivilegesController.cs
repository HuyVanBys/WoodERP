using BOSLib;
using System;
using System.Data;


namespace BOSERP
{
    #region ADPrivileges
    //-----------------------------------------------------------
    //Generated By: BOS Studio
    //Class:ADPrivilegesController
    //Created Date:Monday, April 26, 2010
    //-----------------------------------------------------------

    public class ADPrivilegesController : BaseBusinessController
    {
        public ADPrivilegesController()
        {
            dal = new DALBaseProvider("ADPrivileges", typeof(ADPrivilegesInfo));
        }

        public ADPrivilegesInfo GetPrivilegeByNameAndModuleID(String privilegeName, int moduleID)
        {
            String query = String.Format("SELECT * FROM ADPrivileges WHERE AAStatus='Alive' AND ADPrivilegeName=N'{0}' AND FK_STModuleID={1}", privilegeName, moduleID);
            DataSet ds = GetDataSet(query);
            if (ds.Tables[0] == null || ds.Tables[0].Rows.Count == 0)
                return null;
            else
                return (ADPrivilegesInfo)GetObjectFromDataRow(ds.Tables[0].Rows[0]);
        }
    }
    #endregion
}